<!DOCTYPE html>
<html lang="en">

<head>
    <title>viewer</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <script src="./node_modules/cesium/Build/Cesium/Cesium.js"></script>

    <script src="./node_modules/vue/dist/vue.js"></script>
    <script src="./node_modules/lodash/lodash.min.js"></script>
    <script src="./node_modules/liquor-tree/dist/liquor-tree.umd.js"></script>
    <script src="./node_modules/@riophae/vue-treeselect/dist/vue-treeselect.min.js"></script>
    <script src="./node_modules/vue-slider-component/dist/index.js"></script>
    <script src="./node_modules/vuebar/vuebar.js"></script>
    <script src="./node_modules/chroma-js/chroma.js"></script>

    <link rel="stylesheet" href="./css/CesiumViewer.css">
    <link rel="stylesheet" href="./node_modules/@riophae/vue-treeselect/dist/vue-treeselect.min.css">
</head>

<body>
    <div class="column" id="left">
        <div id="layerSelector">
            <div class="selectorContainer" id="imagerySelectorContainer">
                <treeselect placeholder="Imagery" :value-format="valueFormat" :clearable="clearable" :searchable="searchable"
                    :multiple="true" :options="imagery" :value-consists-of="valueConsistsOf" v-model="selectedImagery"
                    @input="onChangeImagery" @select="onSelect(selectedImagery, 'selectedImagery')" @deselect="onSelect(selectedImagery, 'selectedImagery')">
                </treeselect>

                <div v-bar="{ preventParentScroll: true, scrollThrottle: 30 }">
                    <ul class="selectedLayers" id="selectedImageryContainer">
                        <li v-for="imageNode in selectedImagery">
                            <div class="layerLabel">
                                <button @click="removeLayer(imageNode, selectedImagery, 'selectedImagery')"> x </button>
                                <span @mouseover="mouseOver(imageNode)" @mouseleave="mouseLeave(imageNode)">
                                    {{ imageNode.label }}
                                </span>
                            </div>
                            <vue-slider ref="slider" :width="50" :dot-size="10" :min="0" :max="1" :interval="0.01"
                                :tooltip="false" v-model="opacities[imageNode.id]" @callback="changeOpacity(imageNode)"></vue-slider>
                        </li>
                    </ul>
                </div>
            </div>

            <div class="selectorContainer" id="featureSelectorContainer">
                <treeselect placeholder="Features" :value-format="valueFormat" :clearable="clearable" :searchable="searchable"
                    :multiple="true" :options="features" :value-consists-of="valueConsistsOf" v-model="selectedFeatures"
                    @input="onChangeFeatures" @select="onSelect(selectedFeatures, 'selectedFeatures')" @deselect="onSelect(selectedFeatures, 'selectedFeatures')">
                </treeselect>

                <div v-bar="{ preventParentScroll: true, scrollThrottle: 30 }">
                    <ul class="selectedLayers" id="selectedFeatureContainer">
                        <li v-for="featureNode in selectedFeatures">
                            <div class="layerLabel">
                                <button @click="removeLayer(featureNode, selectedFeatures, 'selectedFeatures')">
                                    x
                                </button>
                                <span> {{ featureNode.label }} </span>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>

            <div class="selectorContainer" id="mapsSelectorContainer">
                <treeselect placeholder="Maps" :value-format="valueFormat" :clearable="clearable" :searchable="searchable"
                    :multiple="true" :options="maps" :value-consists-of="valueConsistsOf" v-model="selectedMaps" @input="onChangeMaps"
                    @select="onSelect(selectedMaps, 'selectedMaps')" @deselect="onSelect(selectedMaps, 'selectedMaps')">
                </treeselect>

                <div v-bar="{ preventParentScroll: true, scrollThrottle: 30 }">
                    <ul class="selectedLayers" id="selectedMapsContainer">
                        <li v-for="mapNode in selectedMaps">
                            <div class="layerLabel">
                                <button @click="removeLayer(mapNode, selectedMaps, 'selectedMaps')"> x </button>
                                <span @mouseover="mouseOver(mapNode)" @mouseleave="mouseLeave(mapNode)">
                                    {{ mapNode.label }}
                                </span>
                            </div>
                            <vue-slider ref="slider" :width="50" :dot-size="10" :min="0" :max="1" :interval="0.01"
                                :tooltip="false" v-model="opacities[mapNode.id]" @callback="changeOpacity(mapNode)"></vue-slider>
                        </li>
                    </ul>
                </div>
            </div>

        </div>

        <div class="legendContainer" id="legend">
            <ul style="list-style-type: none; columns: 2; -webkit-columns: 2; -moz-columns: 2; color: white; background-color: #2c3e50; margin-left: -4px; padding: 8px; border: solid 1px black; font-size: 8pt;">
                <li v-for="item in items">
                    <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" :style="item.color">
                        <circle cx="6" cy="6" r="4" />
                    </svg>
                    <span>{{ item.name }}</span>
                </li>
            </ul>
        </div>
    </div>

    <div class="column" id="right">
        <div class="column" id="top-right">
            <div id="periodSelector">
                <tree ref="treePrehistoric" :data="prehistoric" :options="treeOptions" @node:checked="onNodeChecked"
                    @node:unchecked="onNodeUnchecked" @node:expanded="onNodeExpanded" @tree:mounted="onTreeMounted"></tree>
                <tree ref="treeNeolithic" :data="neolithic" :options="treeOptions" @node:checked="onNodeChecked"
                    @node:unchecked="onNodeUnchecked" @node:expanded="onNodeExpanded" @tree:mounted="onTreeMounted"></tree>
                <tree ref="treeBronzeAge" :data="bronzeAge" :options="treeOptions" @node:checked="onNodeChecked"
                    @node:unchecked="onNodeUnchecked" @node:expanded="onNodeExpanded" @tree:mounted="onTreeMounted"></tree>
                <tree ref="treeProtoGeometric" :data="protoGeometric" :options="treeOptions" @node:checked="onNodeChecked"
                    @node:unchecked="onNodeUnchecked" @node:expanded="onNodeExpanded" @tree:mounted="onTreeMounted"></tree>
                <tree ref="treeGeometric" :data="geometric" :options="treeOptions" @node:checked="onNodeChecked"
                    @node:unchecked="onNodeUnchecked" @node:expanded="onNodeExpanded" @tree:mounted="onTreeMounted"></tree>
                <tree ref="treeArchaic" :data="archaic" :options="treeOptions" @node:checked="onNodeChecked"
                    @node:unchecked="onNodeUnchecked" @node:expanded="onNodeExpanded" @tree:mounted="onTreeMounted"></tree>
                <tree ref="treeClassical" :data="classical" :options="treeOptions" @node:checked="onNodeChecked"
                    @node:unchecked="onNodeUnchecked" @node:expanded="onNodeExpanded" @tree:mounted="onTreeMounted"></tree>
                <tree ref="treeHellenistic" :data="hellenistic" :options="treeOptions" @node:checked="onNodeChecked"
                    @node:unchecked="onNodeUnchecked" @node:expanded="onNodeExpanded" @tree:mounted="onTreeMounted"></tree>
                <tree ref="treeRoman" :data="roman" :options="treeOptions" @node:checked="onNodeChecked"
                    @node:unchecked="onNodeUnchecked" @node:expanded="onNodeExpanded" @tree:mounted="onTreeMounted"></tree>
                <tree ref="treeByzantine" :data="byzantine" :options="treeOptions" @node:checked="onNodeChecked"
                    @node:unchecked="onNodeUnchecked" @node:expanded="onNodeExpanded" @tree:mounted="onTreeMounted"></tree>
                <tree ref="treeFrankish" :data="frankish" :options="treeOptions" @node:checked="onNodeChecked"
                    @node:unchecked="onNodeUnchecked" @node:expanded="onNodeExpanded" @tree:mounted="onTreeMounted"></tree>
                <tree ref="treeOttoman" :data="ottoman" :options="treeOptions" @node:checked="onNodeChecked"
                    @node:unchecked="onNodeUnchecked" @node:expanded="onNodeExpanded" @tree:mounted="onTreeMounted"></tree>
                <tree ref="treeModern" :data="modern" :options="treeOptions" @node:checked="onNodeChecked"
                    @node:unchecked="onNodeUnchecked" @node:expanded="onNodeExpanded" @tree:mounted="onTreeMounted"></tree>
            </div>
        </div>

        <div class="column" id="bottom-right">
            <div id="cesiumContainer"></div>
        </div>
    </div>


    <script src="./js/CesiumViewer.js"></script>
</body>

</html>